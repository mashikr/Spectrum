{% extends "base.html" %}

{% block title %}Spectrum | Profile{% endblock %}

{% block body %}
{{ include ("navbar.html") }}

<div style="height: 3.78rem;"></div>
<div class="container profile-div pb-4">

    <div style="background-image: url('{{ folder }}/public/img/{{ user.cover_pic }}');" class="position-relative profile-cover-pic pointer">
        <!-- <img src="{{ folder }}/public/img/ashik-c.JPG" alt="Ashik" class="img-fluid rounded"> -->
        <div class="profile-img">
            <div class="profile-img-overlay">
                <a href="#"><img src="{{ folder }}/public/img/{{ user.profile_pic }}" alt=""></a>
                <div class="profile-pic-update-btn"><i class="fas fa-camera"></i></div>
            </div>
        </div>
        <div class="cover-pic-update-btn btn btn-light btn-sm"><i class="fas fa-camera"></i> Update Cover Pic</div>
    </div>

    <!-- update profile and cover pic-->
  
  <!-- Modal -->
  <div class="modal" id="photoUpdateModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="photoUpdateModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form id="update-photo-form">
              <label class="btn btn-primary" for="update-photo"><h6 class="m-0"><i class="fas fa-plus"></i> Upload a photo</h6></label> <hr>
              <input type="file" class="d-none" name="image" id="update-photo">
              <input type="hidden" name="type" value="test" id="photo-type">
        </form>
              Select a photo:
              <div class="row mt-2">
                  <div class="col-4 py-2">
                      <a href="#"><img src="{{ folder }}/public/img/ashik.JPG" class="img-fluid rounded" alt="Ashik"></a>
                  </div>
                  <div class="col-4 py-2">
                    <a href="#"><img src="{{ folder }}/public/img/ashik.JPG" class="img-fluid rounded" alt="Ashik"></a>
                  </div>
                  <div class="col-4 py-2">
                    <a href="#"><img src="{{ folder }}/public/img/ashik.JPG" class="img-fluid rounded" alt="Ashik"></a>
                  </div>
              </div>
        </div>
      </div>
    </div>
  </div>
<!-- Modal end -->

    <h3 class="text-center text-dark my-4">{{ user.name }}</h3>

    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="timeline-tab" data-toggle="tab" href="#timeline" role="tab" aria-controls="timeline" aria-selected="true">Timeline</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="about-tab" data-toggle="tab" href="#about" role="tab" aria-controls="about" aria-selected="false">About</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="friends-tab" data-toggle="tab" href="#friends" role="tab" aria-controls="friends" aria-selected="false">Friends ({{ countFriend }})</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="photos-tab" data-toggle="tab" href="#photos" role="tab" aria-controls="photos" aria-selected="false">Photos</a>
          </li>
      </ul>

      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="timeline" role="tabpanel" aria-labelledby="timeline-tab">
            {% if flash_msg.type == 'success' %}        
                    <div class="alert alert-success alert-dismissable mt-2">
                        <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
                        {{ flash_msg.msg }}
                    </div>
                {% endif %}
                {% if flash_msg.type == 'failed'%}
                    <div class="alert alert-danger alert-dismissable mt-2">
                        <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
                        {{ flash_msg.msg }}
                    </div>
                {% endif %}
            <div class="bg-light p-3 mt-2">
                <!-- post form start-->
                <form action="posts/add" method="post" enctype="multipart/form-data">
                    <textarea class="form-control" name="post" placeholder="Share Something...."></textarea>
                    <div class="d-flex mt-2 justify-content-between">
                        <div class="custom-file w-50">
                            <label class="custom-file-label" for="customFile">Add image or file</label>
                            <input type="file" name="post-file" class="custom-file-input" id="customFile">
                        </div>
                        <select class="custom-select w-25" name="privacy" title="Privacy">
                            <option value="Public">Public</option>
                            <option value="Friends">Friends</option>
                            <option value="Private">Private</option>
                        </select>
                        <input type="hidden" name="timeline" value="1">
                        <input type="submit" class="btn btn-primary" name="submit" value="Post">
                    </div>
                </form>
                 <!-- post form end-->
            </div>

            <hr>
            
            {{ include ("posts.html") }}
            
        </div>
        <div class="tab-pane fade p-3 text-muted" id="about" role="tabpanel" aria-labelledby="about-tab">
            
            <div class="row">
                <div class="col-4"><i class="fas fa-briefcase"></i> <b>Works at </b></div> 
                <div class="col" id="works-At">
                    {{ user.works_at }}
                </div>
                <div class="col-1"><i data-target="works-At" class="fas fa-edit btn text-muted about-edit-btn"></i></div>
            </div>
            <hr>
            <div class="row">
                <div class="col-4"><i class="fas fa-graduation-cap"></i> <b>Studied</b> </div> 
                <div class="col" id="studied">
                    {{ user.studied }}
                </div>
                <div class="col-1"><i data-target="studied" class="fas fa-edit btn text-muted about-edit-btn"></i></div>
            </div>
            <hr>
            <div class="row">
                <div class="col-4"><i class="fas fa-home"></i> <b>Lives in</b> </div>
                <div class="col" id="lives-In">
                    {{ user.live_in }}
                </div>
                <div class="col-1"><i data-target="lives-In" class="fas fa-edit btn text-muted about-edit-btn"></i></div>
            </div>
            <hr>
            <div class="row">
                <div class="col-4"><i  class="fas fa-map-marker-alt"></i> <b>Home town</b> </div>
                <div class="col" id="home-Town">
                    {{ user.home_town }}
                </div>
                <div class="col-1"><i data-target="home-Town" class="fas fa-edit btn text-muted about-edit-btn"></i></div>
            </div>
            <hr>
            <div class="row">
                <div class="col-4"><i class="fas fa-phone-alt"></i> <b>Phone no</b> </div>
                <div class="col" id="phone-No">
                    {{ user.phone }}                   
                </div>
                <div class="col-1"><i data-target="phone-No" class="fas fa-edit btn text-muted about-edit-btn"></i></div>
            </div>
            <hr>
            <div class="row">
                <div class="col-4"><i class="fas fa-envelope"></i> <b>Email</b> </div>
                <div class="col">
                    {{ user.email }}
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-4"><i class="fas fa-birthday-cake"></i> <b>Birth Date</b> </div>
                <div class="col">
                    {{ user.dob }}
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-4"><i class="fas fa-venus-mars"></i> <b>Gender</b> </div>
                <div class="col">
                    {{ user.gender }}
                </div>
            </div>
        </div>

        <!-- about update modal start-->
        <div class="modal" id="aboutUpdateModal">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title text-capitalize" id="aboutUpdateModalTitle">user login</h5>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                  <textarea id="aboutInput" class="form-control"></textarea>
                </div>
                <div class="modal-footer">
                  <button type="button" data-dismiss="modal" class="btn btn-secondary">Close</button>
                  <button type="button" id="update-about-btn" class="btn btn-success">Update</button>
                </div>
              </div>
            </div>
          </div>
           <!-- about update modal end-->

        <div class="tab-pane fade p-2" id="friends" role="tabpanel" aria-labelledby="friends-tab">
            
            <div class="row">
                <div class="col-6 p-2">
                    <div class="d-flex border rounded p-2">
                        <img src="{{ folder }}/public/img/asif.PNG" alt="" class="w-25 rounded">
                        <div class="ml-4 pt-2">
                            <a href="#" class="h6">Asif mahmud</a> <br>
                            <small class="text-muted">12 mutual friends</small>
                        </div>
                    </div>
                    
                </div>
                <div class="col-6 p-2">
                    <div class="d-flex border rounded p-2">
                        <img src="{{ folder }}/public/img/forhad.PNG" alt="" class="w-25 rounded">
                        <div class="ml-4 pt-2">
                            <a href="#" class="h6">Frohad mia</a> <br>
                            <small class="text-muted">12 mutual friends</small>
                        </div>
                    </div>
                </div>
                <div class="col-6 p-2">
                    <div class="d-flex border rounded p-2">
                        <img src="{{ folder }}/public/img/forhad.PNG" alt="" class="w-25 rounded">
                        <div class="ml-4 pt-2">
                            <a href="#" class="h6">Frohad mia</a> <br>
                            <small class="text-muted">12 mutual friends</small>
                        </div>
                    </div>                    
                </div>
                <div class="col-6 p-2">
                    <div class="d-flex border rounded p-2">
                        <img src="{{ folder }}/public/img/asif.PNG" alt="" class="w-25 rounded">
                        <div class="ml-4 pt-2">
                            <a href="#" class="h6">Asif mahmud</a> <br>
                            <small class="text-muted">12 mutual friends</small>
                        </div>
                    </div>                    
                </div>
            </div>

        </div>
        <div class="tab-pane fade py-2" id="photos" role="tabpanel" aria-labelledby="photos-tab">
            
            <div class="row py-2">
                <div class="col-6 col-sm-4 col-md-3 position-relative">
                    <a href="#" class="gallery-img">
                        <img src="{{ folder }}/public/img/ashik.JPG" alt="" class="img-fluid rounded">
                    </a>

                    <div class="dropdown image-action">
                        <button class="image-action-toggler" data-img="img-1">
                            <i class="fas fa-pen"></i>
                        </button>
                        <div class="dropdown-menu" id="img-1">
                          <a class="dropdown-item" href="#">Make Profile Picture</a>
                          <a class="dropdown-item" href="#">Make Cover Photo</a>
                          <a class="dropdown-item" href="#">Delete</a>
                        </div>
                    </div>
                    
                </div>

                <div class="col-6 col-sm-4 col-md-3 position-relative">
                    <a href="#" class="gallery-img">
                        <img src="{{ folder }}/public/img/anik.JPG" alt="" class="img-fluid rounded">
                    </a>

                    <div class="dropdown image-action">
                        <button class="image-action-toggler" data-img="img-2">
                            <i class="fas fa-pen"></i>
                        </button>
                        <div class="dropdown-menu" id="img-2">
                          <a class="dropdown-item" href="#">Make Profile Picture</a>
                          <a class="dropdown-item" href="#">Make Cover Photo</a>
                          <a class="dropdown-item" href="#">Delete</a>
                        </div>
                    </div>
                    
                </div>
            </div>

        </div>
      </div>

</div>
{% endblock %}
{% block footer %} 
<script src="{{ folder }}/public/js/profile.js"></script>
{% endblock %}